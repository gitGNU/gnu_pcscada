<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
<TITLE>Package: PCSC.SCard</TITLE>
<META NAME="generator" CONTENT="AdaBrowse 4.0.2 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<LINK REV="made" HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<STYLE TYPE="text/css">
  TABLE.title  { background-color : #99CCFF }
  TABLE.footer { background-color : #99CCFF }
  TD.type { background-color : #CCEEFF }
  TD.odd { background-color : #99CCFF }
  TD.even { background-color : #CCEEFF }
  TD.code { background-color : #EEEEEE }
  SPAN.comment { color : red }
  SPAN.literal { color : green }
  SPAN.definition { color : purple }
  H3.subtitle  { background-color : #CCEEFF }
  UL.index { list-style: none }
</STYLE>
<LINK REL="stylesheet" HREF="adabrowse.css" TYPE="text/css">
</HEAD>

<BODY BGCOLOR="#FFFFF4">

<TABLE WIDTH="100%" CLASS="title" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><H2>Package: PCSC.SCard</H2></TD></TR></TABLE>

<!-- Generated by AdaBrowse 4.0.2 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/ -->
<H3 CLASS="subtitle">Dependencies</H3>
<PRE><CODE><STRONG>with</STRONG> Ada.Containers.Indefinite_Vectors;
<STRONG>with</STRONG> Ada.Strings.Unbounded; <STRONG>use</STRONG> Ada.Strings.Unbounded;

<STRONG>with</STRONG> <A HREF="pcsc.html">PCSC</A>.<A HREF="pcsc-thin.html">Thin</A>;
</CODE></PRE>
<HR>
<H3 CLASS="subtitle">Description</H3>
<DIV>
  Copyright (c) 2008,
  Reto Buerki &lt;reet@codelabs.ch&gt;
<P>
  This file is part of PCSC/Ada.
<P>
  PCSC/Ada is free software; you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as published
  by the Free Software Foundation; either version 2.1 of the License, or
  (at your option) any later version.
<P>
  PCSC/Ada is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.
<P>
  You should have received a copy of the GNU Lesser General Public License
  along with PCSC/Ada; if not, write to the Free Software
  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,
  MA  02110-1301  USA

  <DL><DT><STRONG>Purpose:</STRONG><DD><DIV>
    PC/SC thick-binding package. Provides abstraction from the C style
    functions and types provided in the thin binding in <CODE>PCSC.Thin</CODE>.
  </DIV></DL>
</DIV>
<HR>
<TABLE WIDTH="100%" BORDER=1 CELLSPACING=0 CELLPADDING=0>
<TR><TD COLSPAN=2>
<H3 CLASS="subtitle">Header</H3>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>package</STRONG> <A HREF="pcsc.html">PCSC</A>.<A NAME="33_14"><SPAN CLASS="definition">SCard</SPAN></A> <STRONG>is</STRONG>
</CODE></PRE>
</TD></TR>
<TR><TD WIDTH="2%" CLASS="odd"><PRE> </PRE></TD>
<TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD>
<H3 CLASS="subtitle">Type Summary</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#103_9">Action</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#50_9">ATR</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#471_13">Size</A></CODE>,
<CODE><A HREF="#474_13">Size</A></CODE>,
<CODE><A HREF="#309_14">Status</A></CODE>,
<CODE><A HREF="#467_13">To_Atr</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#198_9">Attribute</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#43_9">Byte_Set</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#39_9">Card</A></CODE> (limited type)</TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#300_14">Begin_Transaction</A></CODE>,
<CODE><A HREF="#280_14">Connect</A></CODE>,
<CODE><A HREF="#327_14">Control</A></CODE>,
<CODE><A HREF="#288_14">Disconnect</A></CODE>,
<CODE><A HREF="#304_14">End_Transaction</A></CODE>,
<CODE><A HREF="#353_13">Get_Active_Proto</A></CODE>,
<CODE><A HREF="#336_14">Get_Attribute</A></CODE>,
<CODE><A HREF="#344_13">Init_Attribute_Set</A></CODE>,
<CODE><A HREF="#292_14">Reconnect</A></CODE>,
<CODE><A HREF="#362_14">SPE_Exec</A></CODE>,
<CODE><A HREF="#357_14">SPE_Init</A></CODE>,
<CODE><A HREF="#309_14">Status</A></CODE>,
<CODE><A HREF="#318_14">Transmit</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#115_9">Card_State</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#133_9">Card_States_Set</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#428_14">Add</A></CODE>,
<CODE><A HREF="#431_13">Is_In</A></CODE>,
<CODE><A HREF="#309_14">Status</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#35_9">Context</A></CODE> (limited type)</TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#270_14">Cancel</A></CODE>,
<CODE><A HREF="#280_14">Connect</A></CODE>,
<CODE><A HREF="#242_14">Establish_Context</A></CODE>,
<CODE><A HREF="#251_13">Is_Valid</A></CODE>,
<CODE><A HREF="#254_13">List_Readers</A></CODE>,
<CODE><A HREF="#248_14">Release_Context</A></CODE>,
<CODE><A HREF="#258_14">Status_Change</A></CODE>,
<CODE><A HREF="#274_14">Wait_For_Readers</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#77_9">Mode</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#187_9">PCI</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#87_9">Proto</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#168_9">Reader_Condition</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#439_14">Add</A></CODE>,
<CODE><A HREF="#461_13">Get</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#180_9">Reader_Condition_Handle</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#183_9">Reader_Condition_Set</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#439_14">Add</A></CODE>,
<CODE><A HREF="#445_13">Find</A></CODE>,
<CODE><A HREF="#452_13">First_Index</A></CODE>,
<CODE><A HREF="#461_13">Get</A></CODE>,
<CODE><A HREF="#455_13">Last_Index</A></CODE>,
<CODE><A HREF="#458_13">Length</A></CODE>,
<CODE><A HREF="#258_14">Status_Change</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#57_9">Reader_ID</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#280_14">Connect</A></CODE>,
<CODE><A HREF="#445_13">Find</A></CODE>,
<CODE><A HREF="#375_13">First_Item</A></CODE>,
<CODE><A HREF="#387_13">Get</A></CODE>,
<CODE><A HREF="#378_13">Last_Item</A></CODE>,
<CODE><A HREF="#372_13">To_Reader_ID</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#63_9">Reader_ID_Set</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#390_13">Empty</A></CODE>,
<CODE><A HREF="#381_13">First_Index</A></CODE>,
<CODE><A HREF="#375_13">First_Item</A></CODE>,
<CODE><A HREF="#387_13">Get</A></CODE>,
<CODE><A HREF="#384_13">Last_Index</A></CODE>,
<CODE><A HREF="#378_13">Last_Item</A></CODE>,
<CODE><A HREF="#254_13">List_Readers</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#136_9">Reader_State</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#164_9">Reader_States_Set</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#394_14">Add</A></CODE>,
<CODE><A HREF="#408_13">First_Index</A></CODE>,
<CODE><A HREF="#402_13">First_Item</A></CODE>,
<CODE><A HREF="#414_13">Get</A></CODE>,
<CODE><A HREF="#420_13">Is_In</A></CODE>,
<CODE><A HREF="#411_13">Last_Index</A></CODE>,
<CODE><A HREF="#405_13">Last_Item</A></CODE>,
<CODE><A HREF="#397_14">Remove</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#67_9">Scope</A></CODE></TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Constants and Named Numbers</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="53_4"><SPAN CLASS="definition">Null_ATR</SPAN></A> : <STRONG>constant</STRONG> <A HREF="#50_9">ATR</A>;</CODE>
</TD></TR>
<TR><TD>
<DIV>
  Null initialized ATR
</DIV>
</TD></TR>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="46_4"><SPAN CLASS="definition">Null_Byte_Set</SPAN></A> : <STRONG>constant</STRONG> <A HREF="#43_9">Byte_Set</A>;</CODE>
</TD></TR>
<TR><TD>
<DIV>
  Empty Byte_Set
</DIV>
</TD></TR>
<TR><TD ALIGN="LEFT" CLASS="code">
<CODE><A NAME="60_4"><SPAN CLASS="definition">Null_Reader_ID</SPAN></A> : <STRONG>constant</STRONG> <A HREF="#57_9">Reader_ID</A>;</CODE>
</TD></TR>
<TR><TD>
<DIV>
  Empty reader ID
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Other Items:</H3>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="35_9"><SPAN CLASS="definition">Context</SPAN></A> <STRONG>is</STRONG> <STRONG>limited</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This is the PC/SC-Context. This object is initialized by
  Establish_Context below and is used with all services.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="39_9"><SPAN CLASS="definition">Card</SPAN></A> <STRONG>is</STRONG> <STRONG>limited</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  SCard-Handler, returned by Connect. Used to access a specific smartcard.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="43_9"><SPAN CLASS="definition">Byte_Set</SPAN></A> <STRONG>is</STRONG> <STRONG>array</STRONG> (Natural <STRONG>range</STRONG> &lt;&gt;) <STRONG>of</STRONG> <STRONG>aliased</STRONG> <A HREF="pcsc-thin.html">Thin</A>.<A HREF="pcsc-thin.html#45_12">Byte</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Byte_Sets are used to send and receive data to/from SCard-Readers.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="50_9"><SPAN CLASS="definition">ATR</SPAN></A> <STRONG>is</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Card ATR type
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="57_9"><SPAN CLASS="definition">Reader_ID</SPAN></A> <STRONG>is</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Reader friendly name
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="63_9"><SPAN CLASS="definition">Reader_ID_Set</SPAN></A> <STRONG>is</STRONG> <STRONG>tagged</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Set of ReaderIDs
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="67_9"><SPAN CLASS="definition">Scope</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="68_7"><SPAN CLASS="definition">Scope_User</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Scope in user space</SPAN></EM>
   <A NAME="70_7"><SPAN CLASS="definition">Scope_Terminal</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Scope in terminal</SPAN></EM>
   <A NAME="72_7"><SPAN CLASS="definition">Scope_System</SPAN></A>
   <EM><SPAN CLASS="comment">--  Scope in system</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Possible scopes for a PC/SC-context
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="77_9"><SPAN CLASS="definition">Mode</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="78_7"><SPAN CLASS="definition">Share_Exclusive</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Exclusive mode only</SPAN></EM>
   <A NAME="80_7"><SPAN CLASS="definition">Share_Shared</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Shared mode only</SPAN></EM>
   <A NAME="82_7"><SPAN CLASS="definition">Share_Direct</SPAN></A>
   <EM><SPAN CLASS="comment">--  Raw mode only</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Possible share Modes for SCard connects
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="87_9"><SPAN CLASS="definition">Proto</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="88_7"><SPAN CLASS="definition">Proto_Undefined</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Protocol not set</SPAN></EM>
   <A NAME="90_7"><SPAN CLASS="definition">Proto_Unset</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Backward compatibility</SPAN></EM>
   <A NAME="92_7"><SPAN CLASS="definition">Proto_T0</SPAN></A>,
   <EM><SPAN CLASS="comment">--  T=0 active protocol</SPAN></EM>
   <A NAME="94_7"><SPAN CLASS="definition">Proto_T1</SPAN></A>,
   <EM><SPAN CLASS="comment">--  T=1 active protocol</SPAN></EM>
   <A NAME="96_7"><SPAN CLASS="definition">Proto_RAW</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Raw active protocol</SPAN></EM>
   <A NAME="98_7"><SPAN CLASS="definition">Proto_T15</SPAN></A>
   <EM><SPAN CLASS="comment">--  T=15 protocol</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Possible Protos for SCard connects
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="103_9"><SPAN CLASS="definition">Action</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="104_7"><SPAN CLASS="definition">Leave_Card</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Do nothing on close</SPAN></EM>
   <A NAME="106_7"><SPAN CLASS="definition">Reset_Card</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Reset on close</SPAN></EM>
   <A NAME="108_7"><SPAN CLASS="definition">Unpower_Card</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Power down on close</SPAN></EM>
   <A NAME="110_7"><SPAN CLASS="definition">Eject_Card</SPAN></A>
   <EM><SPAN CLASS="comment">--  Eject on close</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Possible card Actions
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="115_9"><SPAN CLASS="definition">Card_State</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="116_7"><SPAN CLASS="definition">S_Card_Unknown</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Unknown state</SPAN></EM>
   <A NAME="118_7"><SPAN CLASS="definition">S_Card_Absent</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Card is absent</SPAN></EM>
   <A NAME="120_7"><SPAN CLASS="definition">S_Card_Present</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Card is present</SPAN></EM>
   <A NAME="122_7"><SPAN CLASS="definition">S_Card_Swallowed</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Card not powered</SPAN></EM>
   <A NAME="124_7"><SPAN CLASS="definition">S_Card_Powered</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Card is powered</SPAN></EM>
   <A NAME="126_7"><SPAN CLASS="definition">S_Card_Negotiable</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Ready for PTS</SPAN></EM>
   <A NAME="128_7"><SPAN CLASS="definition">S_Card_Specific</SPAN></A>
   <EM><SPAN CLASS="comment">--  PTS has been set</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Card states
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="133_9"><SPAN CLASS="definition">Card_States_Set</SPAN></A> <STRONG>is</STRONG> <STRONG>tagged</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Set of card states
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="136_9"><SPAN CLASS="definition">Reader_State</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="137_7"><SPAN CLASS="definition">S_Reader_Unaware</SPAN></A>,
   <EM><SPAN CLASS="comment">--  App wants status</SPAN></EM>
   <A NAME="139_7"><SPAN CLASS="definition">S_Reader_Ignore</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Ignore this reader</SPAN></EM>
   <A NAME="141_7"><SPAN CLASS="definition">S_Reader_Changed</SPAN></A>,
   <EM><SPAN CLASS="comment">--  State has changed</SPAN></EM>
   <A NAME="143_7"><SPAN CLASS="definition">S_Reader_Unknown</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Reader unknown</SPAN></EM>
   <A NAME="145_7"><SPAN CLASS="definition">S_Reader_Unavailable</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Status unavailable</SPAN></EM>
   <A NAME="147_7"><SPAN CLASS="definition">S_Reader_Empty</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Card removed</SPAN></EM>
   <A NAME="149_7"><SPAN CLASS="definition">S_Reader_Present</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Card inserted</SPAN></EM>
   <A NAME="151_7"><SPAN CLASS="definition">S_Reader_Atrmatch</SPAN></A>,
   <EM><SPAN CLASS="comment">--  ATR matches card</SPAN></EM>
   <A NAME="153_7"><SPAN CLASS="definition">S_Reader_Exclusive</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Exclusive Mode</SPAN></EM>
   <A NAME="155_7"><SPAN CLASS="definition">S_Reader_Inuse</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Shared Mode</SPAN></EM>
   <A NAME="157_7"><SPAN CLASS="definition">S_Reader_Mute</SPAN></A>,
   <EM><SPAN CLASS="comment">--  Unresponsive card</SPAN></EM>
   <A NAME="159_7"><SPAN CLASS="definition">S_Reader_Unpowered</SPAN></A>
   <EM><SPAN CLASS="comment">--  Unpowered card</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Reader / Card states
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="164_9"><SPAN CLASS="definition">Reader_States_Set</SPAN></A> <STRONG>is</STRONG> <STRONG>tagged</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Set of reader states
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="168_9"><SPAN CLASS="definition">Reader_Condition</SPAN></A> <STRONG>is</STRONG> <STRONG>record</STRONG>
   <A NAME="169_7"><SPAN CLASS="definition">Name</SPAN></A>          : <A HREF="#57_9">Reader_ID</A> := <A HREF="#60_4">Null_Reader_ID</A>;
   <A NAME="170_7"><SPAN CLASS="definition">Current_State</SPAN></A> : <A HREF="#164_9">Reader_States_Set</A>;
   <A NAME="171_7"><SPAN CLASS="definition">Event_State</SPAN></A>   : <A HREF="#164_9">Reader_States_Set</A>;
   <A NAME="172_7"><SPAN CLASS="definition">Event_Counter</SPAN></A> : Natural := 0;
   <A NAME="173_7"><SPAN CLASS="definition">Card_ATR</SPAN></A>      : <A HREF="#50_9">ATR</A> := <A HREF="#53_4">Null_ATR</A>;
<STRONG>end</STRONG> <STRONG>record</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Reader condition type for status change handling. Current_State defines
  the current assumed state. Event_State and Card_ATR is updated by
  calling the Status_Change() procedure. Event_Counter stores the event
  count for the reader identified by 'Name'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="180_9"><SPAN CLASS="definition">Reader_Condition_Handle</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG> <STRONG>all</STRONG> <A HREF="#168_9">Reader_Condition</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Handle to Reader_Condition type.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="183_9"><SPAN CLASS="definition">Reader_Condition_Set</SPAN></A> <STRONG>is</STRONG> <STRONG>tagged</STRONG> <STRONG>private</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Set of reader status types
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="187_9"><SPAN CLASS="definition">PCI</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="188_7"><SPAN CLASS="definition">PCI_T0</SPAN></A>,
   <EM><SPAN CLASS="comment">--  (PCI) for T=0</SPAN></EM>
   <A NAME="190_7"><SPAN CLASS="definition">PCI_T1</SPAN></A>,
   <EM><SPAN CLASS="comment">--  (PCI) for T=1</SPAN></EM>
   <A NAME="192_7"><SPAN CLASS="definition">PCI_RAW</SPAN></A>
   <EM><SPAN CLASS="comment">--  (PCI) for RAW protocol</SPAN></EM>
  );</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Protocol control information types
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="198_9"><SPAN CLASS="definition">Attribute</SPAN></A> <STRONG>is</STRONG>
  (<A NAME="199_7"><SPAN CLASS="definition">Attr_Vendor_Name</SPAN></A>,
   <A NAME="200_7"><SPAN CLASS="definition">Attr_Vendor_IFD_Type</SPAN></A>,
   <A NAME="201_7"><SPAN CLASS="definition">Attr_Vendor_IFD_Version</SPAN></A>,
   <A NAME="202_7"><SPAN CLASS="definition">Attr_Vendor_IFD_Serial</SPAN></A>,
   <A NAME="203_7"><SPAN CLASS="definition">Attr_Channel_ID</SPAN></A>,
   <A NAME="204_7"><SPAN CLASS="definition">Attr_Default_CLK</SPAN></A>,
   <A NAME="205_7"><SPAN CLASS="definition">Attr_Max_CLK</SPAN></A>,
   <A NAME="206_7"><SPAN CLASS="definition">Attr_Default_Data_Rate</SPAN></A>,
   <A NAME="207_7"><SPAN CLASS="definition">Attr_Max_Data_Rate</SPAN></A>,
   <A NAME="208_7"><SPAN CLASS="definition">Attr_Max_IFSD</SPAN></A>,
   <A NAME="209_7"><SPAN CLASS="definition">Attr_Power_Mgmt_Support</SPAN></A>,
   <A NAME="210_7"><SPAN CLASS="definition">Attr_Characteristics</SPAN></A>,
   <A NAME="211_7"><SPAN CLASS="definition">Attr_Current_Protocol_Type</SPAN></A>,
   <A NAME="212_7"><SPAN CLASS="definition">Attr_Current_CLK</SPAN></A>,
   <A NAME="213_7"><SPAN CLASS="definition">Attr_Current_F</SPAN></A>,
   <A NAME="214_7"><SPAN CLASS="definition">Attr_Current_D</SPAN></A>,
   <A NAME="215_7"><SPAN CLASS="definition">Attr_Current_N</SPAN></A>,
   <A NAME="216_7"><SPAN CLASS="definition">Attr_Current_W</SPAN></A>,
   <A NAME="217_7"><SPAN CLASS="definition">Attr_Current_IFSC</SPAN></A>,
   <A NAME="218_7"><SPAN CLASS="definition">Attr_Current_IFSD</SPAN></A>,
   <A NAME="219_7"><SPAN CLASS="definition">Attr_Current_BWT</SPAN></A>,
   <A NAME="220_7"><SPAN CLASS="definition">Attr_Current_CWT</SPAN></A>,
   <A NAME="221_7"><SPAN CLASS="definition">Attr_Current_EBC_Encoding</SPAN></A>,
   <A NAME="222_7"><SPAN CLASS="definition">Attr_Extended_BWT</SPAN></A>,
   <A NAME="223_7"><SPAN CLASS="definition">Attr_ICC_Presence</SPAN></A>,
   <A NAME="224_7"><SPAN CLASS="definition">Attr_ICC_Interface_Status</SPAN></A>,
   <A NAME="225_7"><SPAN CLASS="definition">Attr_Current_IO_State</SPAN></A>,
   <A NAME="226_7"><SPAN CLASS="definition">Attr_ATR_String</SPAN></A>,
   <A NAME="227_7"><SPAN CLASS="definition">Attr_ICC_Type_Per_ATR</SPAN></A>,
   <A NAME="228_7"><SPAN CLASS="definition">Attr_ESC_Preset</SPAN></A>,
   <A NAME="229_7"><SPAN CLASS="definition">Attr_ESC_Cancel</SPAN></A>,
   <A NAME="230_7"><SPAN CLASS="definition">Attr_ESC_Authrequest</SPAN></A>,
   <A NAME="231_7"><SPAN CLASS="definition">Attr_Maxinput</SPAN></A>,
   <A NAME="232_7"><SPAN CLASS="definition">Attr_Device_Unit</SPAN></A>,
   <A NAME="233_7"><SPAN CLASS="definition">Attr_Device_In_Use</SPAN></A>,
   <A NAME="234_7"><SPAN CLASS="definition">Attr_Device_Friendly_Name_A</SPAN></A>,
   <A NAME="235_7"><SPAN CLASS="definition">Attr_Device_System_Name_A</SPAN></A>,
   <A NAME="236_7"><SPAN CLASS="definition">Attr_Device_Friendly_Name_W</SPAN></A>,
   <A NAME="237_7"><SPAN CLASS="definition">Attr_Device_System_Name_W</SPAN></A>,
   <A NAME="238_7"><SPAN CLASS="definition">Attr_Supress_T1_IFS_Request</SPAN></A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Possible attributes for Get_Attribute procedure
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="242_14"><SPAN CLASS="definition">Establish_Context</SPAN></A>
  (Context : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#35_9">Context</A>;
   Scope   : <STRONG>in</STRONG> SCard.<A HREF="#67_9">Scope</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Establish PC/SC-context. Possible Scope values are defined in
  SCard_Scope type.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="248_14"><SPAN CLASS="definition">Release_Context</SPAN></A> (Context : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#35_9">Context</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Release previously acquired SCard context.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="251_13"><SPAN CLASS="definition">Is_Valid</SPAN></A> (Context : <STRONG>in</STRONG> SCard.<A HREF="#35_9">Context</A>) <STRONG>return</STRONG> Boolean;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Verify that given SCard context is valid.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="254_13"><SPAN CLASS="definition">List_Readers</SPAN></A> (Context : <STRONG>in</STRONG> SCard.<A HREF="#35_9">Context</A>)
                       <STRONG>return</STRONG> <A HREF="#63_9">Reader_ID_Set</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Return list of all available readers for this PC/SC context.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="258_14"><SPAN CLASS="definition">Status_Change</SPAN></A>
  (Context    : <STRONG>in</STRONG> SCard.<A HREF="#35_9">Context</A>;
   Timeout    : <STRONG>in</STRONG> Natural := 0;
   Conditions : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure takes a Reader_Condition_Set type containing reader names
  with their assumed state. It then blocks maximum 'Timeout' milliseconds
  time for a change in state to occur. If no timeout is given, 0 will be
  used, which will block forever. When a status change occurs, the
  Conditions object is updated to reflect the change(s). If this procedure
  is called with an empty Conditions object, Wait_For_Readers() is used
  to wait for a reader to appear, then the procedure returns.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="270_14"><SPAN CLASS="definition">Cancel</SPAN></A> (Context : <STRONG>in</STRONG> SCard.<A HREF="#35_9">Context</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure cancels all pending blocking requests on the
  Status_Change() procedure for a given SCard 'Context'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="274_14"><SPAN CLASS="definition">Wait_For_Readers</SPAN></A> (Context : <STRONG>in</STRONG> SCard.<A HREF="#35_9">Context</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure calls SCardGetStatusChange for reader detection. If there
  is no reader available, the call will block until a reader is connected.
  If there are readers present when this function is called, it will
  return immediately.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="280_14"><SPAN CLASS="definition">Connect</SPAN></A>
  (Context : <STRONG>in</STRONG> SCard.<A HREF="#35_9">Context</A>;
   Card    : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Reader  : <STRONG>in</STRONG> <A HREF="#57_9">Reader_ID</A> := <A HREF="#60_4">Null_Reader_ID</A>;
   Mode    : <STRONG>in</STRONG> SCard.<A HREF="#77_9">Mode</A> := <A HREF="#80_7">Share_Shared</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Connect to a SCard identified by Reader (Reader_ID). Handle to connected
  SCard will be stored in 'Card' parameter.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="288_14"><SPAN CLASS="definition">Disconnect</SPAN></A> (Card   : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>; Action : <STRONG>in</STRONG> SCard.<A HREF="#103_9">Action</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure terminates a connection to the connection made through
  Connect procedure.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="292_14"><SPAN CLASS="definition">Reconnect</SPAN></A>
  (Card   : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Mode   : <STRONG>in</STRONG> SCard.<A HREF="#77_9">Mode</A>;
   Action : <STRONG>in</STRONG> SCard.<A HREF="#103_9">Action</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure reestablishes a connection to a reader that was
  previously connected to using Connect(). Init defines the desired action
  taken on the card/reader.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="300_14"><SPAN CLASS="definition">Begin_Transaction</SPAN></A> (Card : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure establishes a temporary exclusive access mode for doing
  a series of commands or transactions with a SCard.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="304_14"><SPAN CLASS="definition">End_Transaction</SPAN></A>
  (Card   : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Action : <STRONG>in</STRONG> SCard.<A HREF="#103_9">Action</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure ends a previously begun transaction.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="309_14"><SPAN CLASS="definition">Status</SPAN></A>
  (Card  : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>;
   State : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#133_9">Card_States_Set</A>;
   Proto : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#87_9">Proto</A>;
   Atr   : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#50_9">ATR</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure checks the current status of the reader connected to by
  'Card'. Current state, protocol and ATR value of inserted card are
  returned as in out params.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="318_14"><SPAN CLASS="definition">Transmit</SPAN></A>
  (Card        : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Send_Pci    : <STRONG>in</STRONG> <A HREF="#187_9">PCI</A>;
   Send_Buffer : <STRONG>in</STRONG> <A HREF="#43_9">Byte_Set</A> := <A HREF="#46_4">Null_Byte_Set</A>;
   Recv_Pci    : <STRONG>in</STRONG> <A HREF="#187_9">PCI</A>;
   Recv_Buffer : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#43_9">Byte_Set</A>;
   Recv_Len    : <STRONG>in</STRONG> <STRONG>out</STRONG> Natural);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Transmit APDUs to SCard.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="327_14"><SPAN CLASS="definition">Control</SPAN></A>
  (Card        : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Code        : <STRONG>in</STRONG> Natural;
   Send_Buffer : <STRONG>in</STRONG> <A HREF="#43_9">Byte_Set</A> := <A HREF="#46_4">Null_Byte_Set</A>;
   Recv_Buffer : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#43_9">Byte_Set</A>;
   Recv_Len    : <STRONG>in</STRONG> <STRONG>out</STRONG> Natural);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure sends a control command to the reader connected to by
  Connect(). It returns the the control response in Recv_Buffer.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="336_14"><SPAN CLASS="definition">Get_Attribute</SPAN></A>
  (Card        : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Attr        : <STRONG>in</STRONG> <A HREF="#198_9">Attribute</A>;
   Recv_Buffer : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#43_9">Byte_Set</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure gets an attribute from the IFD handler. Call
  Init_Attribute_Set function to allocate the correct byte set for the
  call.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="344_13"><SPAN CLASS="definition">Init_Attribute_Set</SPAN></A>
  (Card        : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>;
   Attr        : <STRONG>in</STRONG> <A HREF="#198_9">Attribute</A>)
   <STRONG>return</STRONG> <A HREF="#43_9">Byte_Set</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This function returns an Null_Byte initialized byte set to provide
  storage for an attribute 'Attr'. The byte set can then be used as
  parameter to the Get_Attribute function to actually retrieve the
  attribute data.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="353_13"><SPAN CLASS="definition">Get_Active_Proto</SPAN></A> (Card : <STRONG>in</STRONG> SCard.<A HREF="#39_9">Card</A>) <STRONG>return</STRONG> <A HREF="#87_9">Proto</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Return protocol in use for a given card handle.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="357_14"><SPAN CLASS="definition">SPE_Init</SPAN></A> (Card : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#39_9">Card</A>; Result : <STRONG>in</STRONG> <STRONG>out</STRONG> Boolean);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Procedure checks if a reader connected by 'Card' handle supports SPE
  (secure PIN entry) operation. If it does, 'Result' will be True,
  otherwise 'Result' will be False.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="362_14"><SPAN CLASS="definition">SPE_Exec</SPAN></A> (Card : <STRONG>in</STRONG> <STRONG>out</STRONG> SCard.<A HREF="#39_9">Card</A>; Result : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#43_9">Byte_Set</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Request the reader connected to by 'Card' to perform a secure PIN entry
  operation. If not already done by the client code, this procedure will
  use the SPE_Init() procedure to check if the reader supports SPE and to
  initialize the verify ctrl code. If the SPE operation is not supported
  or does not work as expected, an SCard_Not_Supported exception is
  raised. If the SPE operation is successful, the bytes returned from the
  reader will be stored in 'Result' byte set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="372_13"><SPAN CLASS="definition">To_Reader_ID</SPAN></A> (Name : <STRONG>in</STRONG> String) <STRONG>return</STRONG> <A HREF="#57_9">Reader_ID</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns a new Reader_ID object initialized with 'Name' string.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="375_13"><SPAN CLASS="definition">First_Item</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#63_9">Reader_ID_Set</A>) <STRONG>return</STRONG> <A HREF="#57_9">Reader_ID</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the first reader ID in a reader ID set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="378_13"><SPAN CLASS="definition">Last_Item</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#63_9">Reader_ID_Set</A>) <STRONG>return</STRONG> <A HREF="#57_9">Reader_ID</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the last reader ID in a reader ID set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="381_13"><SPAN CLASS="definition">First_Index</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#63_9">Reader_ID_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the first index of a Reader_ID_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="384_13"><SPAN CLASS="definition">Last_Index</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#63_9">Reader_ID_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the last index of a Reader_ID_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="387_13"><SPAN CLASS="definition">Get</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#63_9">Reader_ID_Set</A>; Index : <STRONG>in</STRONG> Natural) <STRONG>return</STRONG> <A HREF="#57_9">Reader_ID</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns Reader_ID object at index 'Index'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="390_13"><SPAN CLASS="definition">Empty</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#63_9">Reader_ID_Set</A>) <STRONG>return</STRONG> Boolean;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Function returns true if Reader_ID_Set contains no readers.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="394_14"><SPAN CLASS="definition">Add</SPAN></A> (States : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#164_9">Reader_States_Set</A>; State : <STRONG>in</STRONG> <A HREF="#136_9">Reader_State</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Add a new reader state to Reader_States_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="397_14"><SPAN CLASS="definition">Remove</SPAN></A>
  (States : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#164_9">Reader_States_Set</A>;
   State  : <STRONG>in</STRONG> <A HREF="#136_9">Reader_State</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Remove Reader_State 'State' from Reader_States_Set 'States'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="402_13"><SPAN CLASS="definition">First_Item</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#164_9">Reader_States_Set</A>) <STRONG>return</STRONG> <A HREF="#136_9">Reader_State</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the first Reader_State in a Reader_States_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="405_13"><SPAN CLASS="definition">Last_Item</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#164_9">Reader_States_Set</A>) <STRONG>return</STRONG> <A HREF="#136_9">Reader_State</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the last Reader_State in a Reader_States_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="408_13"><SPAN CLASS="definition">First_Index</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#164_9">Reader_States_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the first index of a Reader_States_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="411_13"><SPAN CLASS="definition">Last_Index</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#164_9">Reader_States_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the last index of a Reader_States_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="414_13"><SPAN CLASS="definition">Get</SPAN></A>
  (Set   : <STRONG>in</STRONG> <A HREF="#164_9">Reader_States_Set</A>;
   Index : <STRONG>in</STRONG> Natural)
   <STRONG>return</STRONG> <A HREF="#136_9">Reader_State</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns Reader_State object at index 'Index'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="420_13"><SPAN CLASS="definition">Is_In</SPAN></A>
  (States : <STRONG>in</STRONG> <A HREF="#164_9">Reader_States_Set</A>;
   State  : <STRONG>in</STRONG> <A HREF="#136_9">Reader_State</A>)
   <STRONG>return</STRONG> Boolean;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Function returns True if given Reader_State 'State' is found in Reader
  states set 'States'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="428_14"><SPAN CLASS="definition">Add</SPAN></A> (States : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#133_9">Card_States_Set</A>; State : <STRONG>in</STRONG> <A HREF="#115_9">Card_State</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Add a new card state to Card_States_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="431_13"><SPAN CLASS="definition">Is_In</SPAN></A>
  (States : <STRONG>in</STRONG> <A HREF="#133_9">Card_States_Set</A>;
   State  : <STRONG>in</STRONG> <A HREF="#115_9">Card_State</A>)
   <STRONG>return</STRONG> Boolean;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Function returns True if given Card_State 'State' is found in Card
  states set 'States'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="439_14"><SPAN CLASS="definition">Add</SPAN></A>
  (Set    : <STRONG>in</STRONG> <STRONG>out</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>;
   Status : <STRONG>in</STRONG> <A HREF="#168_9">Reader_Condition</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Add a new reader to reader condition array. State specifies the assumed
  initial state of the reader/card.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="445_13"><SPAN CLASS="definition">Find</SPAN></A>
  (Set       : <STRONG>in</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>;
   Reader_ID : <STRONG>in</STRONG> SCard.<A HREF="#57_9">Reader_ID</A>)
   <STRONG>return</STRONG> Boolean;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Search a given Reader_ID in Reader_Condition_Set. If found, True is
  returned, False if not found.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="452_13"><SPAN CLASS="definition">First_Index</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the first index of a Reader_Condition_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="455_13"><SPAN CLASS="definition">Last_Index</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the last index of a Reader_Condition_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="458_13"><SPAN CLASS="definition">Length</SPAN></A> (Set : <STRONG>in</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns the length of a Reader_Condition_Set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="461_13"><SPAN CLASS="definition">Get</SPAN></A> (Set   : <STRONG>in</STRONG> <A HREF="#183_9">Reader_Condition_Set</A>;
              Index : <STRONG>in</STRONG> Natural)
              <STRONG>return</STRONG> <A HREF="#168_9">Reader_Condition</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Returns Reader_Condition object at index 'Index'.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="467_13"><SPAN CLASS="definition">To_Atr</SPAN></A> (Bytes : <STRONG>in</STRONG> <A HREF="#43_9">Byte_Set</A>) <STRONG>return</STRONG> <A HREF="#50_9">ATR</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Create new ATR object from given Byte_Set. If 'Bytes is too big to be
  converted into an ATR type, a 'Bytes_Too_Big' exception will be raised.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="471_13"><SPAN CLASS="definition">Size</SPAN></A> (Atr : <STRONG>in</STRONG> SCard.<A HREF="#50_9">ATR</A> := <A HREF="#53_4">Null_ATR</A>) <STRONG>return</STRONG> Natural;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Return current size of an ATR as Natural.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="474_13"><SPAN CLASS="definition">Size</SPAN></A> (Atr : <STRONG>in</STRONG> SCard.<A HREF="#50_9">ATR</A> := <A HREF="#53_4">Null_ATR</A>) <STRONG>return</STRONG> String;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Return current size of an ATR as string.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="478_13"><SPAN CLASS="definition">Get_Return_Code</SPAN></A> <STRONG>return</STRONG> String;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Return string representation of last stored return code.
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD><HR></TD></TR>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>private</STRONG>

   <EM><SPAN CLASS="comment">--  Implementation-defined ...</SPAN></EM>
</CODE></PRE>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>end</STRONG> <A HREF="pcsc.html">PCSC</A>.SCard;</CODE></PRE>
</TD></TR>
</TABLE>
<!-- --><HR><TABLE WIDTH="100%" CLASS="footer" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><FONT SIZE=-1><!-- -->Generated on 2008-12-03 at 11:56:12 by <A HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/" TARGET="_top">AdaBrowse 4.0.2</A> using configuration file adabrowse.cfg.</FONT></TD></TR></TABLE>
</BODY>
</HTML>
