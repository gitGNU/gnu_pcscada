<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>

<HEAD>
<TITLE>Package: PCSC.SCard.Monitor</TITLE>
<META NAME="generator" CONTENT="AdaBrowse 4.0.2 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<LINK REV="made" HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/">
<STYLE TYPE="text/css">
  TABLE.title  { background-color : #99CCFF }
  TABLE.footer { background-color : #99CCFF }
  TD.type { background-color : #CCEEFF }
  TD.odd { background-color : #99CCFF }
  TD.even { background-color : #CCEEFF }
  TD.code { background-color : #EEEEEE }
  SPAN.comment { color : red }
  SPAN.literal { color : green }
  SPAN.definition { color : purple }
  H3.subtitle  { background-color : #CCEEFF }
  UL.index { list-style: none }
</STYLE>
<LINK REL="stylesheet" HREF="adabrowse.css" TYPE="text/css">
</HEAD>

<BODY BGCOLOR="#FFFFF4">

<TABLE WIDTH="100%" CLASS="title" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><H2>Package: PCSC.SCard.Monitor</H2></TD></TR></TABLE>

<!-- Generated by AdaBrowse 4.0.2 http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/ -->
<H3 CLASS="subtitle">Description</H3>
<DIV>
  Copyright (c) 2008,
  Reto Buerki &lt;reet@codelabs.ch&gt;
<P>
  This file is part of PCSC/Ada.
<P>
  PCSC/Ada is free software; you can redistribute it and/or modify
  it under the terms of the GNU Lesser General Public License as published
  by the Free Software Foundation; either version 2.1 of the License, or
  (at your option) any later version.
<P>
  PCSC/Ada is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.
<P>
  You should have received a copy of the GNU Lesser General Public License
  along with PCSC/Ada; if not, write to the Free Software
  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston,
  MA  02110-1301  USA

  <DL><DT><STRONG>Purpose:</STRONG><DD><DIV>
    SCard reader monitoring package. This package provides types and
    functions / procedures to monitor card readers.  The abstract type
    Observer can be extended to create new observers for specific reader
    state changes. Observers can be registered to a Reader_Monitor task by
    calling the Register() entry. A running Reader_Monitor task will inform
    all registered observers when a change in reader state occurs.
  </DIV></DL>
</DIV>
<HR>
<TABLE WIDTH="100%" BORDER=1 CELLSPACING=0 CELLPADDING=0>
<TR><TD COLSPAN=2>
<H3 CLASS="subtitle">Header</H3>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>package</STRONG> <A HREF="pcsc.html">PCSC</A>.<A HREF="pcsc-scard.html">SCard</A>.<A NAME="32_20"><SPAN CLASS="definition">Monitor</SPAN></A> <STRONG>is</STRONG>
</CODE></PRE>
</TD></TR>
<TR><TD WIDTH="2%" CLASS="odd"><PRE> </PRE></TD>
<TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD>
<H3 CLASS="subtitle">Type Summary</H3>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#34_9">Context_Handle</A></CODE></TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#37_9">Observer</A></CODE></TD></TR>
<TR><TD VALIGN="TOP">Primitive&nbsp;Operations:&nbsp;</TD><TD WIDTH="100%">
<CODE><A HREF="#52_13">Is_Interested</A></CODE>,
<CODE><A HREF="#47_14">Notify</A></CODE>
</TD></TR>
<TR><TD COLSPAN=2 ALIGN="LEFT" CLASS="type">
<CODE><A HREF="#58_14">Reader_Monitor</A></CODE> (task type)</TD></TR>
</TABLE>
</TD></TR>
<TR><TD>
<HR>
<H3 CLASS="subtitle">Other Items:</H3>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="34_9"><SPAN CLASS="definition">Context_Handle</SPAN></A> <STRONG>is</STRONG> <STRONG>access</STRONG> <STRONG>all</STRONG> <A HREF="pcsc-scard.html">SCard</A>.<A HREF="pcsc-scard.html#35_9">Context</A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Handle to Context object
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>type</STRONG> <A NAME="37_9"><SPAN CLASS="definition">Observer</SPAN></A> <STRONG>is</STRONG> <STRONG>abstract</STRONG> <STRONG>tagged</STRONG> <STRONG>record</STRONG>
   <A NAME="38_7"><SPAN CLASS="definition">States</SPAN></A> : <A HREF="pcsc-scard.html#164_9">Reader_States_Set</A>;
   <EM><SPAN CLASS="comment">--  Reader states this observer is interested in</SPAN></EM>
<STRONG>end</STRONG> <STRONG>record</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Abstract reader observer type. Valid Reader_Monitor observers must
  extend this type.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>subtype</STRONG> <A NAME="44_12"><SPAN CLASS="definition">Observer_Class</SPAN></A> <STRONG>is</STRONG> <A HREF="#37_9">Observer</A>'<STRONG>Class</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Observer class subtype
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>procedure</STRONG> <A NAME="47_14"><SPAN CLASS="definition">Notify</SPAN></A> (O         : <STRONG>in</STRONG> <A HREF="#37_9">Observer</A>;
                  Condition : <STRONG>in</STRONG> <A HREF="pcsc-scard.html#168_9">Reader_Condition</A>) <STRONG>is</STRONG> <STRONG>abstract</STRONG>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  This procedure is called to inform an observer about status changes in
  reader states for all states this observer is interested in.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>function</STRONG> <A NAME="52_13"><SPAN CLASS="definition">Is_Interested</SPAN></A> (O      : <STRONG>in</STRONG> <A HREF="#37_9">Observer</A>;
                        States : <STRONG>in</STRONG> <A HREF="pcsc-scard.html#164_9">Reader_States_Set</A>) <STRONG>return</STRONG> Boolean;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Function is used to check whether an observer is interested in one of
  the states given by 'States' set.
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=1 CELLSPACING=0 CELLPADDING=0>
<TR><TD COLSPAN=2 CLASS="even">
<PRE><CODE><STRONG>task</STRONG> <STRONG>type</STRONG> <A NAME="58_14"><SPAN CLASS="definition">Reader_Monitor</SPAN></A> <STRONG>is</STRONG>
</CODE></PRE>
</TD></TR>
<TR><TD WIDTH="2%" CLASS="even"><PRE> </PRE></TD>
<TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>entry</STRONG> <A NAME="59_13"><SPAN CLASS="definition">Init</SPAN></A> (Context : <STRONG>in</STRONG> <A HREF="#34_9">Context_Handle</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Initialization entry for a Reader_Monitor task
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>entry</STRONG> <A NAME="61_13"><SPAN CLASS="definition">Start</SPAN></A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Start the Reader_Monitor task
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>entry</STRONG> <A NAME="63_13"><SPAN CLASS="definition">Stop</SPAN></A>;</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Stop the Reader_Monitor task
</DIV>
</TD></TR>
</TABLE>
<HR>
</TD></TR>
<TR><TD>
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>entry</STRONG> <A NAME="65_13"><SPAN CLASS="definition">Register</SPAN></A> (O : <STRONG>in</STRONG> <A HREF="#44_12">Observer_Class</A>);</CODE></PRE>
</TD></TR>
<TR><TD>
<DIV>
  Register a new observer to the Reader_Monitor
</DIV>
</TD></TR>
</TABLE>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="even">
<PRE><CODE><STRONG>end</STRONG> Reader_Monitor;</CODE></PRE>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD><HR></TD></TR>
<TR><TD CLASS="code">
<PRE><CODE><STRONG>private</STRONG>

   <EM><SPAN CLASS="comment">--  Implementation-defined ...</SPAN></EM>
</CODE></PRE>
</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 CLASS="odd">
<PRE><CODE><STRONG>end</STRONG> <A HREF="pcsc.html">PCSC</A>.<A HREF="pcsc-scard.html">SCard</A>.Monitor;</CODE></PRE>
</TD></TR>
</TABLE>
<!-- --><HR><TABLE WIDTH="100%" CLASS="footer" BORDER=0 CELLSPACING=0 CELLPADDING=5><TR><TD><FONT SIZE=-1><!-- -->Generated on 2008-12-03 at 11:56:14 by <A HREF="http://home.tiscalinet.ch/t_wolf/tw/ada95/adabrowse/" TARGET="_top">AdaBrowse 4.0.2</A> using configuration file adabrowse.cfg.</FONT></TD></TR></TABLE>
</BODY>
</HTML>
